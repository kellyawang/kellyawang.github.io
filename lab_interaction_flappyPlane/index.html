<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>6 - Interaction: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">6 - Interaction
   </div>
   <div id="projectbrief">David Yan and Kelly Wang</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">6 - Interaction Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#report">Report</a><ul><li class="level2"><a href="#vision">Our Vision</a></li>
<li class="level2"><a href="#overview">Program Overview</a><ul><li class="level3"><a href="#mech">Mechanics Overview</a></li>
<li class="level3"><a href="#interact">Implementing Interaction</a></li>
</ul>
</li>
<li class="level2"><a href="#results">Results</a><ul><li class="level3"><a href="#trailer">Trailer</a></li>
<li class="level3"><a href="#walkthrough">Gameplay Film</a></li>
</ul>
</li>
<li class="level2"><a href="#concept">Concept Gallery</a></li>
<li class="level2"><a href="#credits">Acknowledgements</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="report"></a>
Report</h1>
<hr/>
<h2><a class="anchor" id="vision"></a>
Our Vision</h2>
<p>Our vision for the final game is a 3D endless runner game where the player collects items that appear on the screen and must dodge and jump over obstacles to get to the end of the level. The goal is to get all the collectible objects and coins and survive until the end of the level.</p>
<p>We began by thinking about our theme "union" in terms of set union, or more generally, the collection of objects and adding them to your set. We took inspiration for the basic mechanics from games like Temple Run and Pitfall of the player running infinitely forward through the game, dodging obstacles, and gathering points by picking up objects. The union comes in when we have specific combinations of shapes or items that correspond to different powerups that help the user get through the level. For example, spheres currently give the user a limited number of jumps. We hope to also implement invincibility and the ability to blast through walls rather than dodge them in our final product. Our final product will also emulate the style of the Fractal Cartoon shader on Shadertoy written by henry, with a lot of eye-catching colors. Our player will run through this world at a fast pace to some upbeat music and sound effects.</p>
<hr/>
<h2><a class="anchor" id="overview"></a>
Program Overview</h2>
<h3><a class="anchor" id="mech"></a>
Mechanics Overview</h3>
<p>Similar to Temple Run, the player automatically moves forward, and can only move a limited amount either left or right. Movement is not limited in discrete 'lanes' as in the iOS game, but however, is restricted so that the player can't move off of the screen. The game's main focus is on collision with other objects. Any collision with black objects is bad, and reduces your total points score. Any collision with green objects is good and awards you points as well as a limited amount of jumps. Unlike TempleRun, We also implemented a jump mechanic, with simulated gravity, to allow the player to every once in a while avoid colliding with anything. However, you can only use the jump a limited amount of times, thus encouraging players to actually play the game as opposed to jumping trying to avoid every single object in our simulated 'ground'.</p>
<h3><a class="anchor" id="interact"></a>
Implementing Interaction</h3>
<p>We imported the <a class="el" href="class_player_entity.html">PlayerEntity</a>, <a class="el" href="class_physics_scene.html">PhysicsScene</a>, and <a class="el" href="class_app.html">App</a> from the simpleGame sample provided in G3d's internal library, which provided basically everything we needed to make our game.</p>
<p>In <a class="el" href="class_app.html#a57d158969fc2678b47fc3f68d89c3d57">App::onUserInput()</a>, we disabled user input to move in the forward direction, and in its place provided a constant forward velocity (forward in our case is in the -z direction). We still allowed the player to move left and right and backwards, and also jump, which we all address later.</p>
<p>In <a class="el" href="class_player_entity.html">PlayerEntity</a>, we added several global variables such as m_points or m_jumps, so that the player keeps track of the game statistics. Within <a class="el" href="_player_entity_8h.html">PlayerEntity.h</a>, we also added several public and simple set/get methods to modify or retrieve those game stats.</p>
<p>We used inspiration for the <a class="el" href="class_player_entity.html">PlayerEntity</a> defined in the Entity sample program to clamp player movement. This not only prevents the player from off of the screen in any direction, but it also had the added bonus of creating artificial "ground". PhysicScene implements gravity in our game and we want this for a jump mechanic. If we couldn't bound Y axis movement, the player model would naturally just fall off of the screen due to gravity. Like the <a class="el" href="class_player_entity.html">PlayerEntity</a> model in Entity, this is done by setting a max displacement MAX_POS as a Point3(x, y, z) to describe how much movement you want from the CFrame origin. in <a class="el" href="class_player_entity.html#ab66ca1aa176d2f3be0281fda5a9f2893">PlayerEntity::onSimulation()</a>, at the end of the method, simply add:</p>
<div class="fragment"><div class="line">m_frame.translation = m_frame.translation.clamp(Point3(-MAX_POS.x, 0, -MAX_POS.z), MAX_POS);</div>
</div><!-- fragment --><p>Unlike Temple Run, we have a jump mechanic. Luckily the jump mechanic has already been implemented, and all we need to is query the <a class="el" href="class_player_entity.html">PlayerEntity</a> for the amount of legal jumps we are allowed to make to decide whether or not our key input (currently spacebar) is allowed to trigger a jump.</p>
<p>Sound generation is fairly simple in G3D and can be created/called using these two lines of code. Just modify logic of when to play the sound after you have loaded the relevant sound files in <a class="el" href="class_app.html#a383cf8e8949745f9b2b10651b27d1724">App::onInit()</a>.</p>
<div class="fragment"><div class="line">someSound = Sound::create(System::findDataFile(<span class="stringliteral">&quot;someFile.mp3&quot;</span>));</div>
<div class="line">someSound-&gt;play();</div>
</div><!-- fragment --><p>Lastly is collision detection. Rather than use <a class="el" href="class_player_entity.html">PlayerEntity</a>'s given collision detection, which was far more complexity than we needed, we created our own simplistic collision detection in <a class="el" href="class_app.html#a51040dda7105b7c58f4f53a546f724c8">App::onSimulation()</a>. We decided that all game interactable objects would be Visible Objects. Now, we get the <a class="el" href="class_player_entity.html">PlayerEntity</a>'s bounding sphere, as well as an array of all other VisibleEntity's in our game, and get the bounding sphere of each VisibleEntity.</p>
<p>Visibility defines existence in our world. Thus if the object is not visible, we do not consider it for collision. Thus to remove objects from our world after collision, simply set the given VisibleEntity isVisible attribute to false.</p>
<p>If the bound spheres intersect between a <a class="el" href="class_player_entity.html">PlayerEntity</a> and a VisibleEntity, we check the name of which VisibleEntity intersected our player sphere. All of our game collision logic happens. For example if the VisibleEntity name contains "sphere", we add points and a jump. If it contains "barrier", we deduct points.</p>
<p>To check if the player wins, we check if the <a class="el" href="class_player_entity.html">PlayerEntity</a>'s Z position has exceeded any other objects. After which we call App::drawMessage() which also prints out the player's score.</p>
<hr/>
<h2><a class="anchor" id="results"></a>
Results</h2>
<h3><a class="anchor" id="trailer"></a>
Trailer</h3>
<p> <table style='display:inline-table;' cellspacing='2' cellpadding='0' border='0'><tr><td align='center'><a href='trailer.mp4'><div style='border: 1px solid #00F; width: 180px; height: 120px; background: #222; color: #AAA; text-align: center;'><span style='position: relative; top: 40px; font-size: 100px; '>&#9654;</span><br></br><span style='position: relative; top: 30px;'>Play Video</span></div></a></td></tr><tr><td align='center'><b> Game trailer</b></td></table> </p><div style="display: none; visibility:hidden"> <div class="image">
<img src="trailer.mp4" alt="trailer.mp4"/>
</div>
 </div><p>This is our trailer for our game. In our final product we will emulate these camera angles and shots, including an establishing shot, a title page, and shots that introduce the player character and teaches the user the rules of the game. Attribution for each clip we took is provided in the Attribution section of our report.</p>
<h3><a class="anchor" id="walkthrough"></a>
Gameplay Film</h3>
<p> <table style='display:inline-table;' cellspacing='2' cellpadding='0' border='0'><tr><td align='center'><a href='gameplay-film.mp4'><div style='border: 1px solid #00F; width: 180px; height: 120px; background: #222; color: #AAA; text-align: center;'><span style='position: relative; top: 40px; font-size: 100px; '>&#9654;</span><br></br><span style='position: relative; top: 30px;'>Play Video</span></div></a></td></tr><tr><td align='center'><b> Playthrough of the game</b></td></table> </p><div style="display: none; visibility:hidden"> <div class="image">
<img src="gameplay-film.mp4" alt="gameplay-film.mp4"/>
</div>
 </div><p>Here is a playthrough of our game. Stats and instructions are place on the top left as to be unobtrusive.</p>
<hr/>
<h2><a class="anchor" id="concept"></a>
Concept Gallery</h2>
<p><b>Fractal Cartoon:</b></p>
<p>We were inspired by this Fractal Cartoon shader because it is a fairly complex and interesting world, with an endless road running down the middle. by henry on Shadertoy. We also liked the bright colors that will add excitement and interest to our scene. This shader, with the bold colors and outlines, is the main aesthetic we are aiming for.</p>
<p> <a href='fractalcartoon.jpg'><img src='fractalcartoon.jpg' border='1' height='120'/></a><script>document.write('<div style=\'display: none; visibility: hidden;\'>');</script>  </p><div class="image">
<img src="fractalcartoon.jpg" alt="fractalcartoon.jpg"/>
</div>
<p>  <script>document.write('</div>');</script> </p>
<p>Source: "Fractal Cartoon" by henry on Shadertoy. <a href="https://www.shadertoy.com/view/ls2SzW">https://www.shadertoy.com/view/ls2SzW</a>.</p>
<p><b>Adventure Time:</b></p>
<p>Another source of inspiration was Adventure Time. We were drawn to the bright colors again, and the quirky world that the story is set in, and characters in the series.</p>
<p> <a href='adventuretimeothercoverbig.jpg'><img src='adventuretimeothercoverbig.jpg' border='1' height='120'/></a><script>document.write('<div style=\'display: none; visibility: hidden;\'>');</script>  </p><div class="image">
<img src="adventuretimeothercoverbig.jpg" alt="adventuretimeothercoverbig.jpg"/>
</div>
<p>  <script>document.write('</div>');</script>   <a href='adventuretimekaboomcoverbig2.jpg'><img src='adventuretimekaboomcoverbig2.jpg' border='1' height='120'/></a><script>document.write('<div style=\'display: none; visibility: hidden;\'>');</script>  </p><div class="image">
<img src="adventuretimekaboomcoverbig2.jpg" alt="adventuretimekaboomcoverbig2.jpg"/>
</div>
<p>  <script>document.write('</div>');</script> </p>
<p>Source: <a href="http://comicsalliance.com/adventure-time-comic-series-boom-kaboom-february/">http://comicsalliance.com/adventure-time-comic-series-boom-kaboom-february/</a></p>
<p><b>Temple Run:</b></p>
<p>We thought this was a great example of on-screen stats and directions that deliver information effectively, in an unobtrusive way, to the user.</p>
<p> <a href='Temple-Run1.jpg'><img src='Temple-Run1.jpg' border='1' height='120'/></a><script>document.write('<div style=\'display: none; visibility: hidden;\'>');</script>  </p><div class="image">
<img src="Temple-Run1.jpg" alt="Temple-Run1.jpg"/>
</div>
<p>  <script>document.write('</div>');</script> </p>
<p>Source: <a href="http://www.appdisqus.com/2013/06/20/temple-run-supports-512-ram.html">http://www.appdisqus.com/2013/06/20/temple-run-supports-512-ram.html</a></p>
<hr/>
<h2><a class="anchor" id="credits"></a>
Acknowledgements</h2>
<p>Credit to Devin Gardella for generating the sphere.obj that we used.</p>
<p>We also used several sound effects in our game, taken from G3D's sound library or various websites which provide free sound effects. Each of these 3rd party free sound effects are covered under a Creative Commons license with attribution, which we provide below:</p>
<ul>
<li>
Jump SFX: "bump" by StaneStane (<a href="http://www.freesound.org/people/StaneStane/sounds/73562/">http://www.freesound.org/people/StaneStane/sounds/73562/</a>)  </li>
<li>
Pickup SFX: "ring_inventory" by artisticdude (<a href="http://opengameart.org/content/inventory-sound-effects">http://opengameart.org/content/inventory-sound-effects</a>)  </li>
<li>
Crash SFX: taken from G3D's sound effect library.  </li>
</ul>
<p>The upbeat music that plays in the background of our game was also provided by the G3D music library.</p>
<p>See also your <a class="el" href="_journal.html">Development Journal </a>. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Oct 18 2015 16:24:29 for 6 - Interaction by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
