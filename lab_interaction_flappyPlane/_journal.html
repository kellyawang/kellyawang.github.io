<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>6 - Interaction: Development Journal</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">6 - Interaction
   </div>
   <div id="projectbrief">David Yan and Kelly Wang</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Development Journal </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#tuesday">11/4/2014 Tuesday</a><ul><li class="level2"><a href="#together">Putting everything together</a></li>
</ul>
</li>
<li class="level1"><a href="#monday">11/3/2014 Monday</a><ul><li class="level2"><a href="#kw6-4">Trailer and report</a></li>
<li class="level2"><a href="#game3">Putting the game together</a></li>
<li class="level2"><a href="#collision2">Collision Detection Works!</a></li>
<li class="level2"><a href="#collision1">Restructuring Collision Detection from scratch</a></li>
</ul>
</li>
<li class="level1"><a href="#sunday">11/2/2014 Sunday</a><ul><li class="level2"><a href="#import">Moving to a different game system</a></li>
<li class="level2"><a href="#future">Future steps / mechanics</a></li>
<li class="level2"><a href="#collision">Collision Detection</a></li>
</ul>
</li>
<li class="level1"><a href="#kw6-3">11/1/2014 Saturday</a></li>
<li class="level1"><a href="#kw6-2">Inspiration and Goals</a><ul><li class="level2"><a href="#sb">Storyboard</a></li>
</ul>
</li>
<li class="level1"><a href="#kw6-1">Schedule</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="tuesday"></a>
11/4/2014 Tuesday</h1>
<h2><a class="anchor" id="together"></a>
Putting everything together</h2>
<p>Working on the trailer now, added cool sound effects to the game as well as made the game feel fast. We found that .wav files don't load for audio, so I had to convert a lot of files into .mp3s. Added citations to the sound effects. &ndash;Kelly</p>
<p>Finished the mechanics section of the report. Combined with Kelly's work on the artistic side, the report is almost finished. We just need to add sound effects, attribution, and our video and we are close to shipping something out. I also managed to add an end-of-game score screen so we can see stats when we complete. &ndash;David</p>
<hr/>
<h1><a class="anchor" id="monday"></a>
11/3/2014 Monday</h1>
<h2><a class="anchor" id="kw6-4"></a>
Trailer and report</h2>
<p>I am working on a Trailer in iMovie that uses footage from various games. We will want to emulate these camera angles in the final game.</p>
<p>-Kelly</p>
<h2><a class="anchor" id="game3"></a>
Putting the game together</h2>
<p><b>David</b>: Lots of improvements, the game is finally starting to come together.</p>
<p>Implemented points system to currently work with the collision tree model in <a class="el" href="class_player_entity.html">PlayerEntity</a>. Currently this writes to the debug screen, but eventually we want this to draw onGraphics3d as some sort of UI layout.</p>
<p>Finally figured out how to implement our own collision detection system which is more naive but also simpler to understand and implement. Given our playerEntity, we check all VisibleEntities to see if collision spheres from the player and the VisibleEntityobject intersect. If so, we make the entity 'invisible',which in our world is as good as dead. We then have logic in our <a class="el" href="class_app.html#a51040dda7105b7c58f4f53a546f724c8">App::onSimulation</a> to also determine points awarding, etc, etc.</p>
<p>Also, turns out that creating audio is fairly simple, but G3D doesn't recognize all codecs. I can confirm that mp3's work, but wav's do not.</p>
<p>Here's an example video of collision</p>
<p> <table style='display:inline-table;' cellspacing='2' cellpadding='0' border='0'><tr><td align='center'><a href='collision.mp4'><div style='border: 1px solid #00F; width: 180px; height: 120px; background: #222; color: #AAA; text-align: center;'><span style='position: relative; top: 40px; font-size: 100px; '>&#9654;</span><br></br><span style='position: relative; top: 30px;'>Play Video</span></div></a></td></tr><tr><td align='center'><b> Things vanish!</b></td></table> </p><div style="display: none; visibility:hidden"> <div class="image">
<img src="collision.mp4" alt="collision.mp4"/>
</div>
 </div><p>I also added a jump mechanic: if you collect pellets, you get the ability to jump. Every pellet gives you one more legal jump move. (The convenient thing about movement clamping is that you can similate artifical 'ground' for the sake of gravity calculation).</p>
<p>Lastly, since placing objects by hand might be better but takes longer, I created a python script to place objects in our scene. It currently creates spheres which award points, boxes which we should avoid, and 'hurdles' which you can't dodge but have to jump over. Here's a playthrough.</p>
<p> <table style='display:inline-table;' cellspacing='2' cellpadding='0' border='0'><tr><td align='center'><a href='play1.mp4'><div style='border: 1px solid #00F; width: 180px; height: 120px; background: #222; color: #AAA; text-align: center;'><span style='position: relative; top: 40px; font-size: 100px; '>&#9654;</span><br></br><span style='position: relative; top: 30px;'>Play Video</span></div></a></td></tr><tr><td align='center'><b> Playthrough of a game</b></td></table> </p><div style="display: none; visibility:hidden"> <div class="image">
<img src="play1.mp4" alt="play1.mp4"/>
</div>
 </div><h2><a class="anchor" id="collision2"></a>
Collision Detection Works!</h2>
<p> <table style='display:inline-table;' cellspacing='2' cellpadding='0' border='0'><tr><td align='center'><a href='2014-11-03_000_interaction-pickmeup_r3752_g3d_r5471__Collision_Detection_works_.jpg'><img src='2014-11-03_000_interaction-pickmeup_r3752_g3d_r5471__Collision_Detection_works_.jpg' border='1' height='120'></img></a></td></tr><tr><td align='center'><b> Collision Detection works!</b></td></table> <script>document.write('<div style=\'display: none; visibility: hidden;\'>');</script>  </p><div class="image">
<img src="2014-11-03_000_interaction-pickmeup_r3752_g3d_r5471__Collision_Detection_works_.jpg" alt="2014-11-03_000_interaction-pickmeup_r3752_g3d_r5471__Collision_Detection_works_.jpg"/>
</div>
<p>  <script>document.write('</div>');</script> </p>
<p>When I added canChange = false to the barrier entities in pickMeUp.scene.any, collision actually works! Now the issue is how to make our game react to this collision.</p>
<h2><a class="anchor" id="collision1"></a>
Restructuring Collision Detection from scratch</h2>
<p><b>Kelly</b>: We are still working on collision detection, we have decided to completely throw out the Physics checking with the collision tree because it was too complicated, and are now implementing intersections between bounding spheres in <a class="el" href="class_app.html#a51040dda7105b7c58f4f53a546f724c8">App::onSimulation</a>. We should probably use spheres because it has an intersect method which we can use to see if player's bounding sphere intersects with any other bounding sphere.</p>
<p><b>FOR DAVID:</b> This is the code that I added, he can pick it up anytime after he's free today.</p>
<div class="fragment"><div class="line"><span class="comment">// HERE WE WANT TO GET PLAYER&#39;S BOUNDING BOX AND SEE IF WE COLLIDED WITH ANYTHING ELSE IN THE SCENE</span></div>
<div class="line"></div>
<div class="line"><span class="comment">//get player&#39;s bounding box</span></div>
<div class="line"></div>
<div class="line"><span class="comment">//use collisionProxy instead?</span></div>
<div class="line">Sphere playerSphere;</div>
<div class="line"></div>
<div class="line">player-&gt;getLastBounds(playerSphere);</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; entities.size(); ++i) {</div>
<div class="line">    <span class="comment">//get each intersection so we can test which kind of object we collided with</span></div>
<div class="line">    entities[i]-&gt;getLastBounds(entitySphere);</div>
<div class="line">    <span class="keywordflow">if</span> (playerSphere-&gt;intersects(entitySphere) {</div>
<div class="line">            <span class="comment">//if the name of the entity contains the string &quot;barrier&quot;</span></div>
<div class="line">            <span class="keywordflow">if</span>(entities[i]-&gt;name().find(<span class="stringliteral">&quot;barrier&quot;</span>) != String::npos) {</div>
<div class="line">                <span class="comment">//decrease health, report collision to user, sound effects</span></div>
<div class="line">            } </div>
<div class="line">            <span class="comment">//if name of the entity contains &quot;sphere&quot; </span></div>
<div class="line">            <span class="comment">//sphere can be substituted with whichever powerup we want to implement</span></div>
<div class="line">            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (entities[i]-&gt;name().find(<span class="stringliteral">&quot;sphere&quot;</span>) != String::npos){</div>
<div class="line">                <span class="comment">//increase score, sound effects, make sphere disappear</span></div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">        </div>
<div class="line">}</div>
</div><!-- fragment --><p> -Kelly</p>
<hr/>
<h1><a class="anchor" id="sunday"></a>
11/2/2014 Sunday</h1>
<h2><a class="anchor" id="import"></a>
Moving to a different game system</h2>
<p>I moved our system from the Entity system to the simpleGame system because the simpleGame system has collision detection. I might consider porting some of the clamping on the old system since we do not want the player to ever deviate off of the road, but overall, I understand this new system a lot better than the old one.</p>
<p>Ported clamp to prevent movement off of the screen. Also figured out how to impart constant movement in the forward direction.</p>
<p>Next steps: Determine how to utilize the collision detection system, also implement a points system.</p>
<p>-David</p>
<h2><a class="anchor" id="future"></a>
Future steps / mechanics</h2>
<p>Here are some features we'd like to implement if we get the chance:</p>
<p>1) 'Swipe' mechanic similar to Temple Run, turns the whole world to give it a 3d feel 2) Some sort of 'flash' mechanism (whole screen turns a certain color) to provide a fast reward system (damage is negative, bonuses are positive, etc etc). 3) Camera angles (turning / jumping, sliding, flying overhead causes camera angles to change)</p>
<h2><a class="anchor" id="collision"></a>
Collision Detection</h2>
<p>After investigating, I realized that the collision tree and even the entity array itself is not being update with the entities from our pickMeUp.scene file. This is why collision detection has been unresponsive thus far. We should check this with Morgan in class tomorrow. In addition, the shadertoy does not want to run in the background either.</p>
<p>-Kelly</p>
<hr/>
<h1><a class="anchor" id="kw6-3"></a>
11/1/2014 Saturday</h1>
<p>First, I got the initial shader from Shadertoy to simulate an endless road on the Shadertoy website and saved it as data-files/fractalCartoon.pix in our project. Now, I need to figure out how to connect the fractalCartoon.pix file I added to the G3D Viewer, which involves including pixel shaders in the G3D Viewer which runs from the CPU (I think). I emailed Morgan and am waiting for a response.</p>
<p>I also copied the source files and the space.Scene.Any files over from G3D/samples/entity. I did not completely overwrite the default <a class="el" href="_app_8cpp.html">App.cpp</a> and <a class="el" href="_app_8h.html">App.h</a> files because I want to include the debug and scene editor windows in the scene I got from the entity project.</p>
<p>-Kelly</p>
<h1><a class="anchor" id="kw6-2"></a>
Inspiration and Goals</h1>
<p>Our inspiration is from temple run and endless runner games where the player races down a road, switching lanes to pick up items and avoid obstacles.</p>
<p>We plan to use something similar to this cartoon shader to simulate our road: <a href="https://www.shadertoy.com/view/ls2SzW">https://www.shadertoy.com/view/ls2SzW</a></p>
<p>We will get music from the free music archive website: <a href="http://freemusicarchive.org/">http://freemusicarchive.org/</a></p>
<p>Our initial artistic inspiration:</p>
<p><a href="http://www.deviantart.com/art/Prisms-105504448">http://www.deviantart.com/art/Prisms-105504448</a></p>
<p><a href="http://upload.wikimedia.org/wikipedia/en/7/71/RezBoxArt.jpg">http://upload.wikimedia.org/wikipedia/en/7/71/RezBoxArt.jpg</a></p>
<p><a href="http://www.jamesgames.net/appup-games/images/highway-hijinks-screenshot.png">http://www.jamesgames.net/appup-games/images/highway-hijinks-screenshot.png</a></p>
<h2><a class="anchor" id="sb"></a>
Storyboard</h2>
<p> <a href='photo1.jpg'><img src='photo1.jpg' border='1' height='120'/></a><script>document.write('<div style=\'display: none; visibility: hidden;\'>');</script>  </p><div class="image">
<img src="photo1.jpg" alt="photo1.jpg"/>
</div>
<p>  <script>document.write('</div>');</script>   <a href='photo2.jpg'><img src='photo2.jpg' border='1' height='120'/></a><script>document.write('<div style=\'display: none; visibility: hidden;\'>');</script>  </p><div class="image">
<img src="photo2.jpg" alt="photo2.jpg"/>
</div>
<p>  <script>document.write('</div>');</script>   <a href='photo3.jpg'><img src='photo3.jpg' border='1' height='120'/></a><script>document.write('<div style=\'display: none; visibility: hidden;\'>');</script>  </p><div class="image">
<img src="photo3.jpg" alt="photo3.jpg"/>
</div>
<p>  <script>document.write('</div>');</script>   <a href='photo4.jpg'><img src='photo4.jpg' border='1' height='120'/></a><script>document.write('<div style=\'display: none; visibility: hidden;\'>');</script>  </p><div class="image">
<img src="photo4.jpg" alt="photo4.jpg"/>
</div>
<p>  <script>document.write('</div>');</script>   <a href='photo5.jpg'><img src='photo5.jpg' border='1' height='120'/></a><script>document.write('<div style=\'display: none; visibility: hidden;\'>');</script>  </p><div class="image">
<img src="photo5.jpg" alt="photo5.jpg"/>
</div>
<p>  <script>document.write('</div>');</script> </p>
<hr/>
<h1><a class="anchor" id="kw6-1"></a>
Schedule</h1>
<p><b>Friday </b> </p><ul>
<li>
Kelly - Implement control input (player movement) </li>
<li>
David - Figure out how to implement a pixel shader into a G3D scene file. </li>
</ul>
<p><b>Saturday</b> </p><ul>
<li>
David - basic game environment with pixel shader, place a player. </li>
<li>
Kelly - put objects on screen? David will come help with GUIs/Intro pages </li>
</ul>
<p><b>Sunday</b></p>
<p>GOAL: Minimum Viable Product Finished </p><ul>
<li>
Start adding gameplay features/mechanisms: </li>
<li>
Dodging left and right </li>
<li>
Collision Detection </li>
</ul>
<p><b>Monday</b> </p><ul>
<li>
David - Special powerups, Jumping </li>
<li>
Kelly - Work on trailer + videos </li>
</ul>
<p><b>Tuesday</b></p>
<p>Complete report, trailer, gameplay walkthrough, everything to hand in. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Oct 18 2015 16:24:28 for 6 - Interaction by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
